<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simulador de Movimento do Robô</title>
  <style>
    #simulador {
      width: 500px;
      height: 500px;
      border: 2px solid #000;
      position: relative;
      background-color: #f0f0f0;
      margin-bottom: 20px;
    }

    #robo {
      width: 40px;
      height: 40px;
      position: absolute;
      top: 230px;
      left: 230px;
      background-image: url("robot.png");
      background-size: cover;
    }

    .controles {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .direcoes {
      display: grid;
      grid-template-columns: repeat(3, 60px);
      gap: 5px;
    }

    input[type="number"] {
      width: 60px;
    }
  </style>
</head>
<body>

  <h2>Simulador de Movimento do Robô</h2>

  <div id="simulador">
    <div id="robo"></div>
  </div>

  <div class="controles">
    <label>Velocidade: <input type="number" id="velocidade" value="10" min="1"></label>

    <div class="direcoes">
      <button onmousedown="iniciarMovimento(-1, -1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↖</button>
      <button onmousedown="iniciarMovimento(0, -1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↑</button>
      <button onmousedown="iniciarMovimento(1, -1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↗</button>
      <button onmousedown="iniciarMovimento(-1, 0)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">←</button>
      <button disabled>•</button>
      <button onmousedown="iniciarMovimento(1, 0)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">→</button>
      <button onmousedown="iniciarMovimento(-1, 1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↙</button>
      <button onmousedown="iniciarMovimento(0, 1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↓</button>
      <button onmousedown="iniciarMovimento(1, 1)" onmouseup="pararMovimento()" onmouseleave="pararMovimento()">↘</button>
    </div>
  </div>

  <script>
    const robo = document.getElementById('robo');
    let intervalo;

    function iniciarMovimento(dx, dy) {
      intervalo = setInterval(() => mover(dx, dy), 50);
    }

    function pararMovimento() {
      clearInterval(intervalo);
    }

    function mover(dx, dy) {
      const velocidade = parseInt(document.getElementById('velocidade').value);
      const container = document.getElementById('simulador').getBoundingClientRect();

      let left = robo.offsetLeft + dx * velocidade;
      let top = robo.offsetTop + dy * velocidade;

      // Limites do contêiner
      left = Math.max(0, Math.min(left, container.width - robo.offsetWidth));
      top = Math.max(0, Math.min(top, container.height - robo.offsetHeight));

      robo.style.left = left + 'px';
      robo.style.top = top + 'px';
    }
  </script>

</body>
</html>
